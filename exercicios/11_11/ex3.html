<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 3</title>
</head>

<body>

    <p>Indique o resultado:</p>
    <select id="sel_resultado">
        <option value="vitoria">Vitória</option>
        <option value="empate">Empate</option>
        <option value="derrota">Derrota</option>
    </select>
    <button onclick="registrar()">Registrar jogo</button>
    <div>O time teve: <span id="span_vitoria" style="font-weight: bold;">0</span> Vitórias, <span id="span_empate" style="font-weight: bold;">0</span> Empates, <span id="span_derrota" style="font-weight: bold;">0</span> Derrotas</div>
    <div>Pontuação Total: <span id="span_pontuacao" style="font-weight: bold;">0</span> pontos</div>
    <div>Aproveitamento: <span id="span_aproveitamento" style="font-weight: bold;">0</span>%</div>
    <p>Indique qual jogo quer saber resultado</p>
    <input type="text" id="ipt_resultado" onkeyup="indicar()" placeholder="2">
    <div id="div_resultado"></div>

</body>

</html>

<script>

    var resultado = [];
    var pontos = 0;
    
    function registrar(){
        var vitorias = 0;
        var empates = 0;
        var derrotas = 0;
        var aproveitamento = 0;
        var contador = 0;

        var select = sel_resultado.value;

        resultado.push(select);

        
        for(var i = 0; i < resultado.length; i++){
            
            if(resultado[i] == 'vitoria'){

                vitorias++
            } else if (resultado[i] == 'empate'){

                empates++
            } else {

                derrotas++
            }
            contador++
        }

        span_vitoria.innerHTML = vitorias;
        span_empate.innerHTML = empates;
        span_derrota.innerHTML = derrotas;

        pontos = (vitorias * 3) + empates;

        span_pontuacao.innerHTML = pontos;
        
        aproveitamento = (pontos / (contador * 3)) * 100;
        
        span_aproveitamento.innerHTML = aproveitamento.toFixed(2);
    }

    function indicar(){

        var numeroJogo = Number(ipt_resultado.value);

        if(resultado[numeroJogo - 1] == undefined){

            div_resultado.innerHTML = `Não foi cadastrado um ${numeroJogo}º jogo `;
        } else if(resultado[numeroJogo] == 'vitoria'){

            div_resultado.innerHTML = ` No ${numeroJogo}º jogo, o time ganhou`;
        } else if(resultado[numeroJogo] == 'empate'){
            
            div_resultado.innerHTML = ` No ${numeroJogo}º jogo, o time empatou`;
        } else {
            
            div_resultado.innerHTML = ` No ${numeroJogo}º jogo, o time perdeu`;
        }
    }
</script>